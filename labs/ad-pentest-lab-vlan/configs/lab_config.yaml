# =============================================================================
# Lab Configuration
# =============================================================================
# Single source of truth for VLANs, IPs, roles, and vulnerabilities
# =============================================================================

domain: lab.local

# -----------------------------------------------------------------------------
# Attacker Configuration
# -----------------------------------------------------------------------------
attacker:
  name: kali
  role: attacker
  description: >
    Multi-homed attacker simulating a jump host or misconfigured
    security workstation with access to multiple VLANs.
  interfaces:
    - vlan: attacker
      ip: 172.28.99.10
    - vlan: workstations
      ip: 172.28.20.99
    - vlan: servers
      ip: 172.28.30.99

# -----------------------------------------------------------------------------
# Target Systems
# -----------------------------------------------------------------------------
targets:
  DC01:
    vlan: management
    ip: 172.28.10.21
    domain: lab.local
    os: Windows Server 2022
    services: [AD DS, DNS, LDAP, SMB, WinRM]
    credentials:
      vagrant: vagrant
      vagrant_domain: Vagrant123!
      administrator: Passw0rd!
      alice.adams: Passw0rd!
      bob.builder: Passw0rd!
      dave.evans: Passw0rd!
    vulnerabilities:
      - AS-REP Roasting
      - Kerberoasting
      - ACL Abuse
      - GPP Passwords
      - SMB Relay
      - AdminSDHolder

  DB01:
    vlan: management
    ip: 172.28.10.23
    domain: lab.local
    os: Windows Server 2019
    services: [SQL Server, SMB, WinRM, RPC]
    credentials:
      vagrant: vagrant
      localadmin: Welcome1!
      svc_kerberoast: ServiceP@ss2
    vulnerabilities:
      - Kerberoasting
      - SMB Relay
      - Credential Reuse
      - Weak SMB Share

  CA01:
    vlan: management
    ip: 172.28.10.24
    domain: lab.local
    os: Windows Server 2022
    services: [AD CS, SMB, WinRM, HTTP]
    credentials:
      vagrant: vagrant
      alice.adams: Passw0rd!
    vulnerabilities:
      - ESC1
      - ESC6
      - ESC8
      - ESC9

  WIN10:
    vlan: workstations
    ip: 172.28.20.30
    domain: lab.local
    os: Windows 10 Enterprise
    services: [SMB, WinRM, RDP]
    credentials:
      vagrant: vagrant
      alice.adams: Passw0rd!
    vulnerabilities:
      - Credential Reuse
      - Lateral Movement
      - Unconstrained Delegation

  pentestplus-target:
    vlan: servers
    ip: 172.28.30.16
    os: Ubuntu 22.04
    services: [SSH, Apache, MySQL, Docker, Redis]
    vulnerabilities:
      - Cloud credential exposure
      - Docker misconfiguration
      - IaC secrets

  pjpt-target:
    vlan: servers
    ip: 172.28.30.17
    os: Ubuntu 20.04
    services: [SSH, Apache, FTP]
    vulnerabilities:
      - Weak credentials
      - Cron job misconfiguration

  oscp-target:
    vlan: servers
    ip: 172.28.30.18
    os: Ubuntu 20.04
    services: [SSH, Apache, NFS, Samba]
    vulnerabilities:
      - SUID binaries
      - NFS misconfiguration

  cloud-pentest:
    vlan: servers
    ip: 172.28.30.19
    os: Ubuntu 22.04
    services: [Docker, Cloud CLIs]
    vulnerabilities:
      - AWS credential exposure
      - Azure credential exposure
      - GCP credential exposure
      - CI/CD secrets

  pnpt-internal:
    vlan: servers
    ip: 172.28.30.50
    os: Ubuntu 22.04
    services: [SMB, Apache, MySQL]
    vulnerabilities:
      - Credential reuse
      - Internal service exposure

  LLM01:
    vlan: servers
    ip: 172.28.30.60
    os: Ubuntu 22.04
    services: [FastAPI, Redis]
    vulnerabilities:
      - OWASP LLM Top 10

  metasploitable2:
    vlan: dmz
    ip: 172.28.40.12
    os: Ubuntu 8.04
    services: [Legacy services]
    vulnerabilities:
      - Legacy exploits

  metasploitable3-ubuntu:
    vlan: dmz
    ip: 172.28.40.13
    os: Ubuntu 14.04
    services: [Web services]
    vulnerabilities:
      - SQLi
      - XSS
      - File upload

  metasploitable3-win2k8:
    vlan: dmz
    ip: 172.28.40.14
    os: Windows Server 2008
    services: [SMB, RPC]
    vulnerabilities:
      - Legacy Windows exploits

  juice-shop:
    vlan: dmz
    ip: 172.28.40.15
    os: Ubuntu 22.04
    services: [OWASP Juice Shop]
    vulnerabilities:
      - Modern web and API vulnerabilities
